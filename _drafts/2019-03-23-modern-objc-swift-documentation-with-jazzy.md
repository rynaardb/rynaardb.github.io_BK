---
layout: single
title: "Modern Objective-C and Swift documentation with Jazzy"
date: 2019-03-16
categories: posts
classes: wide
tags: ios swift objective-c jazzy documentation
---

[Jazzy](https://github.com/realm/jazzy) is a command-line utility that generates documentation for Swift and Objective-C. Instead of parsing your source files, jazzy hooks into [Clang](https://clang.llvm.org/) and [SourceKit](https://www.jpsim.com/uncovering-sourcekit) to use the [AST](https://clang.llvm.org/docs/IntroductionToTheClangAST.html) representation of your code and its comments for more accurate results. Jazzy generates very modern looking documentation similar to Apple’s official reference documentation.

## Installation

To install Jazzy simply install the ruby gem:

```bash
sudo gem install ruby
```
## Adding code documentation in Xcode

In order to have the documentation generated by Jazzy you first need to add code documentation using Xcode's documentation markup and / or markdown. Before getting started you might also want to have a look at the following resources:

* [Xocde Markup Formatting Reference](https://developer.apple.com/library/archive/documentation/Xcode/Reference/xcode_markup_formatting_ref/)
* [Markdown Cheatsheet by Adam Pritchard](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet)

The documentation you add to your source files will be used by Jazzy in order to generate the HTML documentation. In the example below I have added code documentation for a class, struct, enum and two functions, once of them being marked as deprecated:

```swift
/**
 A simple HTTP user client

 - Author:
 Rynaard Burger
 */

import Foundation

/// User HTTP client
public class UserApiClient {

    /// Representation of a user
    public struct User: Codable {
        let firstname: String
        let lastname: String
        let age: Int

        /// User status
        ///
        /// - active: User is active
        /// - blocked: User is blocked
        enum Status {
            case active, blocked
        }
    }

    /**
     Creates a new user
     - Parameter user: The new user

     ### Usage Example: ###
     ````
     UserApiClient.newUser(user1)
     ````
     */
    public static func newUser(_ user: User) {
        fatalError("not yet implemented")
    }

    /// Creates a new user (Deprecated)
    ///
    /// - Parameters:
    ///   - firstname: User firstname
    ///   - lastname: User lastname
    ///   - age: User age
    /// - warning: Deprecated. Use: `UserApiClient.newUser(_ user: User)`
    @available(*, deprecated, message: "Use newUser(_ user: User)")
    public static func newUser(firstname: String, lastname: String, age: Int) {
        fatalError("not yet implemented")
    }
}
```

Swift and Objective-C documentation is written in markdown and supports a number of special keywords, some of which includes:

**Swift:**

* `- warning`
* `- see`
* `- note`

**Objective-C:**

* `@warning`
* `@see`
* `@note`

## Generating the HTML documentation

Generating the documentation is really easy, just go to the folder where you Xcode project is located and run the following command:

```bash
jazzy
```

This will generate the documentation using the default options but your can actually do a whole lot more. You can always have a look at all the options by running: `jazzy -h`.

For example you can specify the author, link to the author's website, link to a GitHub page etc:

**Swift:**

```bash
jazzy \                                                                                  
--clean \
--author "Rynaard Burger" \
--author_url https://rynaard.com \
--github_url https://github.com/rynaardb/jazzy-documentation
```

**Objective-C:**

For Objective-C you must also pass the following parameters to jazzy:

* `--objc`
* `--umbrella-header ...`
* `--framework-root ...`
* `--sdk [iphone|watch|appletv][os|simulator]|macosx` (optional, default value of macosx)
* `--hide-declarations [objc|swift]` (optional, hides the selected language declarations)

```bash
jazzy \                                                                                  
--clean \
--author "Rynaard Burger" \
--author_url https://rynaard.com \
--github_url https://github.com/rynaardb/jazzy-documentation \
--objc \
--umbrella-header ... \
```

What you get is you is beautiful looking HTML documentation very similar to Apple's official documentation, all with just a few lines of code documentation and markdown:

![image](/assets/images/jazzy-docs-1.png)

## Other Benefits

Another benefit of adding code documentation is that you also get full autocomplete and Quick Help support right in Xcode, with no additional effort. 

![image](/assets/images/jazzy-docs-2.png)

To view the Quick Help you can use ⌥ (option) + right click or alternatively you can also click on the "Show Quick Help inspector" button on the right in Xcode.

![image](/assets/images/jazzy-docs-3.png)

## Summary

There is nothing worse than having to search through header files or actual implementation files just to figure out how things fit together. Having good documentation, especially for APIs or frameworks consumed by others makes it so much easier to get started and to quickly figure out what you can or cannot do. 

Using Jazzy there is no excuse why you cannot have nice looking documentation with very little effort.

The example Xcode project can be found on my GitHub [repository](https://github.com/rynaardb/jazzy-documentation).