<!doctype html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Swift Development on the iPad using Terraform and Digital Ocean" /><meta property="og:locale" content="en" /><meta name="description" content="Since the release of iPadOS 13, the iPad has gained a lot of useful features making it so much more of a viable option for getting real work done. That being said, it still lacks in several areas, especially in the area of Swift development." /><meta property="og:description" content="Since the release of iPadOS 13, the iPad has gained a lot of useful features making it so much more of a viable option for getting real work done. That being said, it still lacks in several areas, especially in the area of Swift development." /><link rel="canonical" href="https://rynaardb.com/posts/swift-development-on-the-ipad-using-terraform-and-digital-ocean/" /><meta property="og:url" content="https://rynaardb.com/posts/swift-development-on-the-ipad-using-terraform-and-digital-ocean/" /><meta property="og:site_name" content="Rynaard Burger" /><meta property="og:image" content="https://rynaardb.com/assets/images/ipad-development-terraform-digital-ocean.png" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-02-11T00:00:00+02:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://rynaardb.com/assets/images/ipad-development-terraform-digital-ocean.png" /><meta property="twitter:title" content="Swift Development on the iPad using Terraform and Digital Ocean" /><meta name="twitter:site" content="@rynaardb" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-07-01T23:41:38+02:00","datePublished":"2020-02-11T00:00:00+02:00","description":"Since the release of iPadOS 13, the iPad has gained a lot of useful features making it so much more of a viable option for getting real work done. That being said, it still lacks in several areas, especially in the area of Swift development.","headline":"Swift Development on the iPad using Terraform and Digital Ocean","image":"https://rynaardb.com/assets/images/ipad-development-terraform-digital-ocean.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://rynaardb.com/posts/swift-development-on-the-ipad-using-terraform-and-digital-ocean/"},"url":"https://rynaardb.com/posts/swift-development-on-the-ipad-using-terraform-and-digital-ocean/"}</script><title>Swift Development on the iPad using Terraform and Digital Ocean | Rynaard Burger</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Rynaard Burger"><meta name="application-name" content="Rynaard Burger"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.0/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"><body><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"> <img src="https://avatars.githubusercontent.com/u/185616?v=4" width="112" height="112" alt="avatar" onerror="this.style.display='none'"> </a><div class="site-title"> <a href="/">Rynaard Burger</a></div><div class="site-subtitle fst-italic">Software Engineer | Cape Town, South Africa ‚òÄÔ∏è üáøüá¶ | DevOps | GitOps | Cloud Computing | Automation | Distributed Systems | Architecture | Mobile Development</div></div><ul class="nav flex-column flex-grow-1 w-100 ps-0"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/all-posts/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ALL POSTS</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag"></i> <span>TAGS</span> </a></ul><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <a href="https://twitter.com/rynaardb" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fab fa-twitter"></i> </a> <a href="https://github.com/rynaardb" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://www.linkedin.com/in/rynaardburger/" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container px-xxl-5"><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100" > <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Swift Development on the iPad using Terraform and Digital Ocean</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </span> <span id="search-cancel">Cancel</span></div></div><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pe-xl-4"><div class="post px-1 px-md-2"><h1 data-toc-skip>Swift Development on the iPad using Terraform and Digital Ocean</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1581372000" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Feb 11, 2020 </em> </span> <span> Updated <em class="" data-ts="1688247698" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jul 1, 2023 </em> </span><div class="mt-3 mb-3"> <a href="/assets/images/ipad-development-terraform-digital-ocean.png" class="popup img-link preview-img shimmer"><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 630'%3E%3C/svg%3E" data-src="/assets/images/ipad-development-terraform-digital-ocean.png" alt="Preview Image" width="1200" height="630" class="lazyload" data-proofer-ignore></a></div><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/rynaardb">Rynaard Burger</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="1542 words" > <em>8 min</em> read</span></div></div></div><div class="post-content"><p>Since the release of iPadOS 13, the iPad has gained a lot of useful features making it so much more of a viable option for getting real work done. That being said, it still lacks in several areas, especially in the area of Swift development.</p><p>Sure, Apple does have its own Swift Playground app, but as the name suggests, it is nothing more than a playground to learn and for prototyping concepts. Although Xcode on the iPad will be a dream come true for many of us, I don‚Äôt see that happening anytime soon.</p><p>In this post, we‚Äôll take a look at how to set up a remote machine for Swift development on the iPad with Terraform and Digital Ocean.</p><h2 id="prerequisites"><span class="me-2">Prerequisites</span><a href="#prerequisites" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>A Digital Ocean account<li>The Blink shell emulator app (or similar)<li>A Mac<li>And of course, an iPad</ul><h2 id="setting-up-a-digital-ocean-account"><span class="me-2">Setting up a Digital Ocean account</span><a href="#setting-up-a-digital-ocean-account" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Digital Ocean, like AWS, offers a wide range of cloud products and services, ranging from VPS aka Droplets to Kubernetes Clusters. Head on over to their website and <a href="https://m.do.co/c/511f92eb87d6">create your account </a>.</p><h2 id="create-your-personal-access-token"><span class="me-2">Create your Personal Access Token</span><a href="#create-your-personal-access-token" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Once you have your Digital Ocean account created, you need to create your Personal Access Token which you will later need when creating your infrastructure using Terraform.</p><p>You can create a new Personal Access Token on Digital Ocean by navigating to Manage &gt; API and then clicking on the button to the right ‚ÄúGenerate New Token‚Äù. Note that you need to enable both the READ and WRITE scope when creating your token.</p><p><strong>Make sure you copy and save your token somewhere safe for easy access later.</strong></p><h2 id="generating-and-adding-your-ssh-keys"><span class="me-2">Generating and adding your SSH Keys</span><a href="#generating-and-adding-your-ssh-keys" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>In order to access our machine via SSH we need to generate a new set of SSH key pairs for both our Mac and iPad.</p><h3 id="on-your-mac"><span class="me-2">On your Mac</span><a href="#on-your-mac" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>On macOS this can easily be done by running the following command:</p><p><code class="language-plaintext highlighter-rouge">ssh-keygen -o</code></p><p>This will generate a new public and private key pair and our <strong>public key</strong> is what we will need to add on Digital Ocean. Copy the contents of <code class="language-plaintext highlighter-rouge">~/.ssh/id_rsa.pub</code> or copy it to the clipboard with: <code class="language-plaintext highlighter-rouge">pbcopy &lt; ~/.ssh/id_rsa.pub</code>.</p><p>Next, we need to add our public key on Digital Ocean under the Account &gt; Security &gt; SSH keys section. Click on the ‚ÄúAdd SSH Key‚Äù button and paste in your public key.</p><p>Now would also be a good time to take note of the Fingerprint generated for your SSH key which you‚Äôll need later.</p><h3 id="on-your-ipad"><span class="me-2">On your iPad</span><a href="#on-your-ipad" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>On the iPad, there are a number of different apps that you can use to generate a new SSH key pair including <a href="https://panic.com/prompt/">Prompt</a>, <a href="https://termius.com">Termius</a>, <a href="https://workingcopyapp.com">Working Copy</a> and <a href="https://www.blink.sh">Blink shell</a> (my personal favorite).</p><p>Using Blink shell you can either generate a new SSH key pair by simply typing <code class="language-plaintext highlighter-rouge">ssh-keygen</code> from the prompt or by going to Settings &gt; Keys and adding it there. Tap on the keys you just added and select ‚ÄúCopy Public Key‚Äù.</p><p>Repeat the steps for adding the public key for your Mac on Digital Ocean and remember to also take note of the generated fingerprint.</p><h2 id="creating-your-vps-using-terraform"><span class="me-2">Creating your VPS using Terraform</span><a href="#creating-your-vps-using-terraform" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>In case you are not yet familiar with <a href="https://www.terraform.io">Terraform</a>, Terraform uses Infrastructure as Code to provision and manage cloud infrastructure and services. It automates rather tedious tasks when creating and setting up cloud infrastructure.</p><p>Of course, we can also set up everything manually by hand but using Terraform to automate the entire process offers a lot of benefits as you will see in a minute.</p><h3 id="installing-terraform"><span class="me-2">Installing Terraform</span><a href="#installing-terraform" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Terraform offers a binary package for just about every platform, for more information see the <a href="https://learn.hashicorp.com/terraform/getting-started/install.html">installation guide</a>.</p><p>On macOS I prefer installing most of my tools using <a href="https://brew.sh">Homebrew</a> which is as simple as running the following command:</p><p><code class="language-plaintext highlighter-rouge">brew install terraform</code></p><h2 id="infrastructure-code"><span class="me-2">Infrastructure code</span><a href="#infrastructure-code" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Let‚Äôs create a new terraform script called <code class="language-plaintext highlighter-rouge">dev-machine.tf</code>:</p><div file="dev-machine.tf" class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="dev-machine.tf"><i class="far fa-file-code fa-fw"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
</pre><td class="rouge-code"><pre><span class="c1"># Variable declaration</span>
<span class="s">variable "do_token" {}</span>

<span class="s">variable "pub_key" {}</span>

<span class="s">variable "pvt_key" {}</span>

<span class="s">variable "ssh_fingerprint" {}</span>

<span class="c1"># Configure the DigitalOcean Provider</span>
<span class="s">provider "digitalocean" {</span>
  <span class="s">token = "${var.do_token}"</span>
<span class="err">}</span>

<span class="c1"># Provider setup</span>
<span class="s">resource "digitalocean_droplet" "web" {</span>
  <span class="s">image  = "ubuntu-18-04-x64"</span>
  <span class="s">name   = "ubuntu-dev"</span>
  <span class="s">region = "fra1"</span>
  <span class="s">size   = "s-1vcpu-1gb"</span>
  <span class="s">private_networking = </span><span class="kc">true</span>
  <span class="s">ssh_keys = [</span>
    <span class="s">var.ssh_fingerprint,</span>
  <span class="s">]</span>
  <span class="s"># Connection setup</span>
  <span class="s">connection {</span>
    <span class="s">user        = "root"</span>
    <span class="s">type        = "ssh"</span>
    <span class="s">host        = self.ipv4_address</span>
    <span class="s">private_key = file(var.pvt_key)</span>
    <span class="s">timeout     = "2m"</span>
  <span class="s">}</span>
  <span class="s"># Provisioning</span>
  <span class="s">provisioner "file" {</span>
    <span class="s">source      = "provision.sh"</span>
    <span class="s">destination = "/tmp/provision.sh"</span>
  <span class="s">}</span>
  <span class="s">provisioner "remote-exec" {</span>
    <span class="s">inline = [</span>
      <span class="s">"chmod +x /tmp/provision.sh",</span>
      <span class="s">"/tmp/provision.sh",</span>
    <span class="s">]</span>
  <span class="s">}</span>
<span class="err">}</span>
</pre></table></code></div></div><p>Let‚Äôs break down each section of the terraform script above:</p><h3 id="variable-declaration"><span class="me-2">Variable declaration</span><a href="#variable-declaration" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>We declare variables at the beginning of the file that we will reference later throughout the script. Here we create variables for our Digital Ocean Personal Access Token, public key, private key, and SSH fingerprints.</p><h3 id="provider-setup"><span class="me-2">Provider setup</span><a href="#provider-setup" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The provider section tells Terraform that we‚Äôre going to use Digital Ocean as our provider. Terraform also supports other providers like AWS, Azure, Linode, and <a href="https://www.terraform.io/docs/providers/index.html">many more</a>. Here we create a very small VPS (droplet) with 1 CPU, 1GB of RAM, 25GB of SSD storage as defined by <code class="language-plaintext highlighter-rouge">size = "s-1vcpu-1gb"</code>. Remember to also set your region accordingly, in the example it is set to Frankfort, Germany <code class="language-plaintext highlighter-rouge">region = "fra1"</code>.</p><h3 id="connection-setup"><span class="me-2">Connection setup</span><a href="#connection-setup" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>In the connection section, we define how Terraform will access our newly created machine when running the provision script over SSH.</p><h3 id="provisioning"><span class="me-2">Provisioning</span><a href="#provisioning" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Once we have our newly created machine up and running we can start automating the process of installing the necessary tools and packages by running the provisioning script.</p><p>Create a new bash script file called <code class="language-plaintext highlighter-rouge">provision.sh</code> in the same directory as <code class="language-plaintext highlighter-rouge">dev-machine.tf</code>:</p><div file="provision.sh" class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="provision.sh"><i class="far fa-file-code fa-fw"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre><td class="rouge-code"><pre><span class="c">#!/bin/bash</span>

<span class="c"># update</span>
apt <span class="nt">-y</span> update <span class="o">&amp;&amp;</span> apt <span class="nt">-y</span> <span class="nb">install </span>unattended-upgrades

<span class="c"># dependencies</span>
apt <span class="nt">-y</span> <span class="nb">install </span>libcurl3 libpython2.7 libpython2.7-dev

<span class="c"># tools</span>
apt <span class="nt">-y</span> <span class="nb">install </span>curl
apt <span class="nt">-y</span> <span class="nb">install </span>mosh
apt <span class="nt">-y</span> <span class="nb">install </span>clang

<span class="c"># swift</span>
wget https://swift.org/builds/swift-5.0.1-release/ubuntu1804/swift-5.0.1-RELEASE/swift-5.0.1-RELEASE-ubuntu18.04.tar.gz
<span class="nb">tar </span>xzf swift-5.0.1-RELEASE-ubuntu18.04.tar.gz
<span class="nb">mv </span>swift-5.0.1-RELEASE-ubuntu18.04 /usr/share/swift
<span class="nb">echo</span> <span class="s2">"export PATH=/usr/share/swift/usr/bin:</span><span class="nv">$PATH</span><span class="s2">"</span> <span class="o">&gt;&gt;</span> ~/.zshrc
<span class="nb">rm </span>swift-5.0.1-RELEASE-ubuntu18.04.tar.gz

<span class="c"># vapor</span>
<span class="nb">eval</span> <span class="s2">"</span><span class="si">$(</span>curl <span class="nt">-sL</span> https://apt.vapor.sh<span class="si">)</span><span class="s2">"</span>
apt <span class="nt">-y</span> <span class="nb">install </span>vapor

<span class="c"># optional tools</span>
apt <span class="nt">-y</span> <span class="nb">install </span>zsh
chsh <span class="nt">-s</span> <span class="si">$(</span>which zsh<span class="si">)</span>
sh <span class="nt">-c</span> <span class="s2">"</span><span class="si">$(</span>curl <span class="nt">-fsSL</span> https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span class="si">)</span><span class="s2">"</span> <span class="s2">""</span> <span class="nt">--unattended</span>
apt <span class="nt">-y</span> <span class="nb">install </span>tmux

<span class="c"># firewall rules</span>
<span class="nb">sudo </span>ufw allow 60000:61000/udp
</pre></table></code></div></div><p>Let‚Äôs take a minute to examine what exactly the script does:</p><h3 id="updating-system-packages"><span class="me-2">Updating system packages</span><a href="#updating-system-packages" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>First things first, we do a simple <code class="language-plaintext highlighter-rouge">apt update</code> and <code class="language-plaintext highlighter-rouge">apt upgrade</code> to get our system up to date.</p><h3 id="installing-dependencies"><span class="me-2">Installing dependencies</span><a href="#installing-dependencies" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Next, we install all the dependencies needed for the tools and packages that we‚Äôre going to install.</p><h3 id="installing-tools"><span class="me-2">Installing tools</span><a href="#installing-tools" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>We need to make sure that we also install all the tools that we‚Äôre going to need.</p><h3 id="swift--vapor"><span class="me-2">Swift &amp; Vapor</span><a href="#swift--vapor" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Now that we have all the required packages and tools installed we can finally proceed with installing both Swift and Vapor.</p><h3 id="optional-tools"><span class="me-2">Optional tools</span><a href="#optional-tools" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>This part of the script is entirely up to you and of course optional. I do however suggest that you install them and familiarise yourself with them, especially <a href="https://github.com/tmux/tmux/wiki">Tmux</a> which will make your development experience on the iPad so much more enjoyable.</p><p>Since we won‚Äôt be able to run an IDE, the next best option would be to customize and improve the experience while working in a shell environment. To achieve this I also recommend installing the <a href="https://www.zsh.org">ZSH</a> shell together with <a href="https://ohmyz.sh">OHMyZSH</a>.</p><h3 id="firewall-rules"><span class="me-2">Firewall rules</span><a href="#firewall-rules" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Finally, we need to open the inbound and outbound UDP ports on port <code class="language-plaintext highlighter-rouge">60000</code> and <code class="language-plaintext highlighter-rouge">61000</code> which is needed by Mosh. <a href="https://mosh.org">Mosh</a> is a remote terminal application that allows roaming, supports intermittent connectivity and provides intelligent local echo and line editing of user keystrokes. It is a great alternative to SSH while working on the iPad when a stable connection is not always guaranteed.</p><h2 id="creating-the-infrastructure"><span class="me-2">Creating the infrastructure</span><a href="#creating-the-infrastructure" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>On your Mac, run the following two commands in terminal:</p><p><code class="language-plaintext highlighter-rouge">export DO_TOKEN=YOUR-PERSONAL-ACCESS-TOKEN-HERE</code> replacing your Personal Access Token\</p><p><code class="language-plaintext highlighter-rouge">export SSH_FINGERPRINT=YOUR-MAC-SSH-FINGERPRINT</code> replacing your SSH fingerprint of your Mac</p><p>Next we need to initialise our Terraform script:</p><p><code class="language-plaintext highlighter-rouge">terraform init</code></p><p>Before you go ahead and run the Terraform script, it is always a good idea to first run <code class="language-plaintext highlighter-rouge">terraform plan</code>. This will print out a diff of what Terraform is about to do without actually doing it, allowing you to make sure everything is correctly configured.</p><p>Finally, and where all the magic happens, we can apply our changes by running:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>terraform apply <span class="se">\</span>
<span class="nt">-var</span> <span class="s2">"do_token=</span><span class="nv">$DO_TOKEN</span><span class="s2">"</span> <span class="se">\</span>
<span class="nt">-var</span> <span class="s2">"pub_key=</span><span class="nv">$HOME</span><span class="s2">/.ssh/id_rsa.pub"</span> <span class="se">\</span>
<span class="nt">-var</span> <span class="s2">"pvt_key=</span><span class="nv">$HOME</span><span class="s2">/.ssh/id_rsa"</span> <span class="se">\</span>
<span class="nt">-var</span> <span class="s2">"ssh_fingerprint_mac=YOUR-MAC-SSH-FINGERPRINT"</span> <span class="se">\</span>
<span class="nt">-var</span> <span class="s2">"ssh_fingerprint_ipad=YOUR-IPAD-SSH-FINGERPRINT"</span>
</pre></table></code></div></div><h2 id="wrapping-up"><span class="me-2">Wrapping up</span><a href="#wrapping-up" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>That‚Äôs it, once completed, Terraform will create the infrastructure, install all the tools, and correctly configure everything for us to connect to our remote development machine.</p><p>On Digital Ocean you should now see your newly created Droplet with a publicly accessible IP address and hostname.</p><p>You can now go ahead and connect from your iPad using either SSH or Mosh. Simply add a new host using either the public IP address or hostname and connect via SSH or Mosh. Using Blink shell you can connect with Mosh running <code class="language-plaintext highlighter-rouge">mosh your-server-name</code>.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href='/categories/swift/'>swift</a>, <a href='/categories/ipad/'>ipad</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/swift/" class="post-tag no-text-decoration" >swift</a> <a href="/tags/ipad/" class="post-tag no-text-decoration" >ipad</a> <a href="/tags/remote-development/" class="post-tag no-text-decoration" >remote-development</a> <a href="/tags/terraform/" class="post-tag no-text-decoration" >terraform</a> <a href="/tags/digital-ocean/" class="post-tag no-text-decoration" >digital-ocean</a> <a href="/tags/ssh/" class="post-tag no-text-decoration" >ssh</a> <a href="/tags/mosh/" class="post-tag no-text-decoration" >mosh</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted me-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Swift%20Development%20on%20the%20iPad%20using%20Terraform%20and%20Digital%20Ocean%20-%20Rynaard%20Burger&url=https%3A%2F%2Frynaardb.com%2Fposts%2Fswift-development-on-the-ipad-using-terraform-and-digital-ocean%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter" > <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Swift%20Development%20on%20the%20iPad%20using%20Terraform%20and%20Digital%20Ocean%20-%20Rynaard%20Burger&u=https%3A%2F%2Frynaardb.com%2Fposts%2Fswift-development-on-the-ipad-using-terraform-and-digital-ocean%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook" > <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Frynaardb.com%2Fposts%2Fswift-development-on-the-ipad-using-terraform-and-digital-ocean%2F&text=Swift%20Development%20on%20the%20iPad%20using%20Terraform%20and%20Digital%20Ocean%20-%20Rynaard%20Burger" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram" > <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Frynaardb.com%2Fposts%2Fswift-development-on-the-ipad-using-terraform-and-digital-ocean%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin" > <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/ephemeral-builds-empowering-efficient-and-disposable-build-environments/">Ephemeral Builds - Empowering Efficient and Disposable Build Environments</a><li class="text-truncate lh-lg"> <a href="/posts/docker-multi-stage-builds/">Docker Multi-stage Builds</a><li class="text-truncate lh-lg"> <a href="/posts/progressive-delivery-techniques-in-devops/">Progressive Delivery Techniques in DevOps</a><li class="text-truncate lh-lg"> <a href="/posts/detect-and-prevent-deployment-drift-in-kubernetes/">Detect and Prevent Deployment Drift in Kubernetes</a><li class="text-truncate lh-lg"> <a href="/posts/testing-docker-images-tools-and-best-practices/">Testing Docker Images - Tools and Best Practices</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/iac/">iac</a> <a class="post-tag btn btn-outline-primary" href="/tags/infrastructure-as-code/">infrastructure-as-code</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/devops/">devops</a> <a class="post-tag btn btn-outline-primary" href="/tags/terraform/">terraform</a> <a class="post-tag btn btn-outline-primary" href="/tags/xcode/">xcode</a> <a class="post-tag btn btn-outline-primary" href="/tags/ci-cd/">ci-cd</a> <a class="post-tag btn btn-outline-primary" href="/tags/docker/">docker</a> <a class="post-tag btn btn-outline-primary" href="/tags/ai/">ai</a></div></div></div><div id="toc-wrapper" class="ps-0 pe-4 mb-5"><div class="panel-heading ps-3 pt-2 mb-2">Contents</div><nav id="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-3 pe-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ms-1" data-toc-skip> Further Reading</h3><div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><div class="col"> <a href="/posts/detect-and-prevent-deployment-drift-in-kubernetes/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1684274400" data-df="ll" > May 17, 2023 </em><h4 class="pt-0 my-2" data-toc-skip>Detect and Prevent Deployment Drift in Kubernetes</h4><div class="text-muted small"><p> Kubernetes has revolutionized the way we deploy and manage applications, offering scalability, reliability, and ease of management. However, as your application evolves and deployment configuration...</p></div></div></a></div><div class="col"> <a href="/posts/basic-uiview-animations/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1550268000" data-df="ll" > Feb 16, 2019 </em><h4 class="pt-0 my-2" data-toc-skip>Basic UIView Animations</h4><div class="text-muted small"><p> Subtle and concise animations can help draw the user‚Äôs attention to a specific area of your application. Often it may be unclear to the user when to perform a certain action or as to what is going ...</p></div></div></a></div><div class="col"> <a href="/posts/ios-animations-using-lottie/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1552687200" data-df="ll" > Mar 16, 2019 </em><h4 class="pt-0 my-2" data-toc-skip>iOS animations using Lottie</h4><div class="text-muted small"><p> Lottie is a mobile library for iOS and Android that parses Adobe After Effects animations exported as JSON with bodymovin and renders the vector animations natively on mobile and through React Nati...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/swift-package-manager-creating-packages/" class="btn btn-outline-primary" prompt="Older" ><p>Swift Package Manager - Creating Packages</p></a> <a href="/posts/resolving-itms-90683-for-standalone-watchos-apps/" class="btn btn-outline-primary" prompt="Newer" ><p>Resolving ITMS-90683 for standalone watchOS apps</p></a></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/swift/">swift</a> <a class="post-tag btn btn-outline-primary" href="/tags/iac/">iac</a> <a class="post-tag btn btn-outline-primary" href="/tags/infrastructure-as-code/">infrastructure-as-code</a> <a class="post-tag btn btn-outline-primary" href="/tags/automation/">automation</a> <a class="post-tag btn btn-outline-primary" href="/tags/devops/">devops</a> <a class="post-tag btn btn-outline-primary" href="/tags/terraform/">terraform</a> <a class="post-tag btn btn-outline-primary" href="/tags/xcode/">xcode</a> <a class="post-tag btn btn-outline-primary" href="/tags/ci-cd/">ci-cd</a> <a class="post-tag btn btn-outline-primary" href="/tags/docker/">docker</a> <a class="post-tag btn btn-outline-primary" href="/tags/ai/">ai</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div></div><footer><div class="container px-lg-4"><div class="d-flex justify-content-center align-items-center text-muted mx-md-3"><p>rynaardb.com</p><p>¬© 2023 <a href="https://twitter.com/rynaardb">Rynaard Burger</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p></div></div></footer><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.0/dist/jquery.min.js,npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.7/dayjs.min.js,npm/dayjs@1.11.7/locale/en.min.js,npm/dayjs@1.11.7/plugin/relativeTime.min.js,npm/dayjs@1.11.7/plugin/localizedFormat.min.js,npm/tocbot@4.21.0/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/unregister.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-N0LQM86HKV"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-N0LQM86HKV'); }); </script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3797894884439015" crossorigin="anonymous"></script> <a rel="me" href="https://github.com/rynaardb">GitHub</a> <script> /* Note: dependent library will be loaded in `js-selector.html` */ SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="px-1 px-sm-2 px-lg-4 px-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
